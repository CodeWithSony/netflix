{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://E%3A/practice/netflix/components/movie/AddMovie.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\n\r\nexport default function AdminPage() {\r\n  const [form, setForm] = useState({\r\n    name: \"\",\r\n    singer: \"\",\r\n    cast: \"\",\r\n    releaseDate: \"\",\r\n    budget: \"\",\r\n  });\r\n  const router = useRouter();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    setLoading(true);\r\n    setMessage(\"\");\r\n\r\n    try {\r\n      const res = await fetch(\"/api/movies\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          name: form.name,\r\n          singer: form.singer,\r\n          cast: form.cast.split(\",\"),\r\n          releaseDate: form.releaseDate,\r\n          budget: Number(form.budget),\r\n        }),\r\n      });\r\n\r\n      if (res.ok) {\r\n        setMessage(\"Movie added successfully!\");\r\n        router.push(\"/\");\r\n      } else {\r\n        setMessage(\"Failed to add movie.\");\r\n      }\r\n    } catch (error) {\r\n      setMessage(\"Error submitting form.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"h-screen w-full bg-black justify-center items-center flex\">\r\n      <br />\r\n      <div className=\"p-4 max-w-lg  bg-white \">\r\n        <h1 className=\"text-2xl font-bold mb-4\">Add Movie</h1>\r\n        <form onSubmit={handleSubmit} className=\"space-y-3\">\r\n          <input\r\n            name=\"name\"\r\n            value={form.name}\r\n            onChange={handleChange}\r\n            placeholder=\"Movie Name\"\r\n            className=\"border p-2 w-full\"\r\n            required\r\n          />\r\n          <input\r\n            name=\"cast\"\r\n            value={form.cast}\r\n            onChange={handleChange}\r\n            placeholder=\"Cast\"\r\n            className=\"border p-2 w-full\"\r\n            required\r\n          />\r\n          <input\r\n            name=\"singer\"\r\n            value={form.singer}\r\n            onChange={handleChange}\r\n            placeholder=\"singer\"\r\n            className=\"border p-2 w-full\"\r\n            required\r\n          />\r\n          <input\r\n            name=\"releaseDate\"\r\n            type=\"date\"\r\n            value={form.releaseDate}\r\n            onChange={handleChange}\r\n            className=\"border p-2 w-full\"\r\n            required\r\n          />\r\n          <input\r\n            name=\"budget\"\r\n            type=\"number\"\r\n            value={form.budget}\r\n            onChange={handleChange}\r\n            placeholder=\"Budget\"\r\n            className=\"border p-2 w-full\"\r\n            required\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            className=\"bg-red-600 py-3 hover:bg-green-700 text-white focus:bg-grenn-700  p-2 w-full\"\r\n            disabled={loading}\r\n          >\r\n            {loading ? \"Saving...\" : \"Save Movie\"}\r\n          </button>\r\n        </form>\r\n        {message && (\r\n          <p className=\"mt-3 text-center text-green-500\">{message}</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;;;AAFA;;;AAIe,SAAS;;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,0HAAA,CAAA,WAAQ,AAAD,EAAE;QAC/B,MAAM;QACN,QAAQ;QACR,MAAM;QACN,aAAa;QACb,QAAQ;IACV;IACA,MAAM,SAAS,CAAA,GAAA,0HAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,0HAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,0HAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,eAAe,CAAC;QACpB,QAAQ;YAAE,GAAG,IAAI;YAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QAAC;IACrD;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,WAAW;QACX,WAAW;QAEX,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,eAAe;gBACrC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,MAAM,KAAK,IAAI;oBACf,QAAQ,KAAK,MAAM;oBACnB,MAAM,KAAK,IAAI,CAAC,KAAK,CAAC;oBACtB,aAAa,KAAK,WAAW;oBAC7B,QAAQ,OAAO,KAAK,MAAM;gBAC5B;YACF;YAEA,IAAI,IAAI,EAAE,EAAE;gBACV,WAAW;gBACX,OAAO,IAAI,CAAC;YACd,OAAO;gBACL,WAAW;YACb;QACF,EAAE,OAAO,OAAO;YACd,WAAW;QACb,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,0JAAC;QAAI,WAAU;;0BACb,0JAAC;;;;;0BACD,0JAAC;gBAAI,WAAU;;kCACb,0JAAC;wBAAG,WAAU;kCAA0B;;;;;;kCACxC,0JAAC;wBAAK,UAAU;wBAAc,WAAU;;0CACtC,0JAAC;gCACC,MAAK;gCACL,OAAO,KAAK,IAAI;gCAChB,UAAU;gCACV,aAAY;gCACZ,WAAU;gCACV,QAAQ;;;;;;0CAEV,0JAAC;gCACC,MAAK;gCACL,OAAO,KAAK,IAAI;gCAChB,UAAU;gCACV,aAAY;gCACZ,WAAU;gCACV,QAAQ;;;;;;0CAEV,0JAAC;gCACC,MAAK;gCACL,OAAO,KAAK,MAAM;gCAClB,UAAU;gCACV,aAAY;gCACZ,WAAU;gCACV,QAAQ;;;;;;0CAEV,0JAAC;gCACC,MAAK;gCACL,MAAK;gCACL,OAAO,KAAK,WAAW;gCACvB,UAAU;gCACV,WAAU;gCACV,QAAQ;;;;;;0CAEV,0JAAC;gCACC,MAAK;gCACL,MAAK;gCACL,OAAO,KAAK,MAAM;gCAClB,UAAU;gCACV,aAAY;gCACZ,WAAU;gCACV,QAAQ;;;;;;0CAEV,0JAAC;gCACC,MAAK;gCACL,WAAU;gCACV,UAAU;0CAET,UAAU,cAAc;;;;;;;;;;;;oBAG5B,yBACC,0JAAC;wBAAE,WAAU;kCAAmC;;;;;;;;;;;;;;;;;;AAK1D;GA9GwB;;QAQP,0HAAA,CAAA,YAAS;;;KARF"}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}