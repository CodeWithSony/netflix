{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file://E%3A/practice/netflix/pages/_app.tsx"],"sourcesContent":["import \"../styles/globals.css\";\r\nimport { SessionProvider } from \"next-auth/react\";\r\nimport type { AppProps } from \"next/app\";\r\nimport type { Session } from \"next-auth\";\r\n\r\ninterface CustomAppProps extends AppProps {\r\n  pageProps: {\r\n    session?: Session;\r\n  };\r\n}\r\n\r\nfunction App({ Component, pageProps }: CustomAppProps) {\r\n  return (\r\n    <SessionProvider session={pageProps.session}>\r\n      <Component {...pageProps} />\r\n    </SessionProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"names":[],"mappings":";;;;AACA;;;;AAUA,SAAS,IAAI,EAAE,SAAS,EAAE,SAAS,EAAkB;IACnD,qBACE,qKAAC,mIAAA,CAAA,kBAAe;QAAC,SAAS,UAAU,OAAO;kBACzC,cAAA,qKAAC;YAAW,GAAG,SAAS;;;;;;;;;;;AAG9B;uCAEe"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file://E%3A/practice/netflix/components/general/Layout.js"],"sourcesContent":["import { Fragment, useState, useEffect } from \"react\";\r\nimport { Dialog, Menu, Transition } from \"@headlessui/react\";\r\nimport { useRouter } from \"next/router\";\r\nimport { signOut } from \"next-auth/react\";\r\nimport { MagnifyingGlassIcon, UserCircleIcon } from \"@heroicons/react/20/solid\";\r\n\r\nimport {\r\n  ClipboardDocumentListIcon,\r\n  TrashIcon,\r\n  BellIcon,\r\n  XMarkIcon,\r\n} from \"@heroicons/react/24/outline\";\r\n// import { jwtDecode } from \"jwt-decode\";\r\n\r\nconst user = {\r\n  name: \"Whitney Francis\",\r\n  email: \"whitney.francis@example.com\",\r\n  imageUrl:\r\n    \"https://images.unsplash.com/photo-1517365830460-955ce3ccd263?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80\",\r\n};\r\n\r\nconst navigation = [\r\n  {\r\n    name: \"Inboxes\",\r\n    href: \"#\",\r\n    children: [\r\n      { name: \"Technical Support\", href: \"#\" },\r\n      { name: \"Sales\", href: \"#\" },\r\n      { name: \"General\", href: \"#\" },\r\n    ],\r\n  },\r\n  { name: \"Reporting\", href: \"#\", children: [] },\r\n  { name: \"Settings\", href: \"#\", children: [] },\r\n];\r\n\r\nconst userNavigation = [\r\n  { name: \"Your Profile\", href: \"#\" },\r\n  { name: \"Sign out\", href: \"#\" },\r\n];\r\n\r\nfunction classNames(...classes) {\r\n  return classes.filter(Boolean).join(\" \");\r\n}\r\n// import { useSession } from \"next-auth/react\";\r\n// import tokenRefresh from \"../../lib/tokenRefresh\";\r\n\r\nexport default function Layout({ children }) {\r\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n\r\n  // const { data: session, status } = useSession();\r\n\r\n  const router = useRouter();\r\n  const [tabs, SetTabss] = useState([\r\n    {\r\n      name: \"Add Movie\",\r\n      code: \"add-movie\",\r\n      href: \"/admin/add-movie\",\r\n      icon: ClipboardDocumentListIcon,\r\n      current: false,\r\n    },\r\n    {\r\n      name: \"Delete Movie\",\r\n      code: \"delete-movie\",\r\n      href: \"/admin/delete-movie\",\r\n      icon: TrashIcon,\r\n      current: false,\r\n    },\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (router.pathname) {\r\n      const routerPath = router.asPath;\r\n\r\n      const updatedTabs = tabs.map((tab) => {\r\n        const currentLhstTab = routerPath.split(\"/\")[1];\r\n\r\n        if (tab.code == currentLhstTab) {\r\n          return { ...tab, current: true };\r\n        } else {\r\n          return { ...tab, current: false };\r\n        }\r\n      });\r\n\r\n      SetTabss(updatedTabs);\r\n    }\r\n  }, [router.pathname]);\r\n\r\n  const handleSignOut = () => {\r\n    const baseurl = process.env.NEXT_PUBLIC_BASE_URL;\r\n    signOut({ callbackUrl: baseurl + \"/login\" });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex h-screen flex-col\">\r\n        <header className=\"relative flex h-16  flex-shrink-0 items-center bg-gray-800\">\r\n          <div className=\"hidden md:flex md:min-w-0 md:flex-1 md:items-center md:justify-between\">\r\n            <div className=\" pl-4\">\r\n              <h2 className=\"w-full h-auto text-xl sm:text-2xl text-gray-200 font-extrabold py-0.5\">\r\n                <span className=\"text-white capitalize\">\r\n                  {process.env.PROJECT_NAME}{\" \"}\r\n                </span>{\" \"}\r\n                <span className=\"text-blue-300\"></span>\r\n              </h2>\r\n            </div>\r\n\r\n            <div className=\"flex items-center md:pr-8 md:space-x-8 z-50\">\r\n              <Menu as=\"div\" className=\"relative inline-block text-left\">\r\n                <Menu.Button className=\"flex rounded-full bg-gray-700 text-sm focus:outline-none\">\r\n                  <span className=\"sr-only\">Open user menu</span>\r\n                  <UserCircleIcon\r\n                    className=\"h-9 w-9 rounded-full   border-gray-600\"\r\n                    aria-hidden=\"true\"\r\n                  />\r\n                </Menu.Button>\r\n\r\n                <Transition\r\n                  as={Fragment}\r\n                  enter=\"transition ease-out duration-100\"\r\n                  enterFrom=\"transform opacity-0 scale-95\"\r\n                  enterTo=\"transform opacity-100 scale-100\"\r\n                  leave=\"transition ease-in duration-75\"\r\n                  leaveFrom=\"transform opacity-100 scale-100\"\r\n                  leaveTo=\"transform opacity-0 scale-95\"\r\n                >\r\n                  <Menu.Items className=\"absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none cursor-pointer\">\r\n                    <div className=\"py-1\">\r\n                      <Menu.Item>\r\n                        {({ active }) => (\r\n                          <a\r\n                            onClick={handleSignOut}\r\n                            className={classNames(\r\n                              active ? \"bg-gray-100\" : \"\",\r\n                              \"block px-4 py-2 text-sm text-gray-700 cursor-pointer\"\r\n                            )}\r\n                          >\r\n                            Sign Out\r\n                          </a>\r\n                        )}\r\n                      </Menu.Item>\r\n                    </div>\r\n                  </Menu.Items>\r\n                </Transition>\r\n              </Menu>\r\n            </div>\r\n          </div>\r\n\r\n          {/* <Transition.Root show={mobileMenuOpen} as={Fragment}>\r\n            <Dialog\r\n              as=\"div\"\r\n              className=\"relative z-40 md:hidden\"\r\n              onClose={setMobileMenuOpen}\r\n            >\r\n              <Transition.Child\r\n                as={Fragment}\r\n                enter=\"transition-opacity ease-linear duration-300\"\r\n                enterFrom=\"opacity-0\"\r\n                enterTo=\"opacity-100\"\r\n                leave=\"transition-opacity ease-linear duration-300\"\r\n                leaveFrom=\"opacity-100\"\r\n                leaveTo=\"opacity-0\"\r\n              >\r\n                <div className=\"hidden sm:fixed sm:inset-0 sm:block sm:bg-gray-600 sm:bg-opacity-75\" />\r\n              </Transition.Child>\r\n\r\n              <div className=\"fixed inset-0 z-40\">\r\n                <Transition.Child\r\n                  as={Fragment}\r\n                  enter=\"transition ease-out duration-150 sm:ease-in-out sm:duration-300\"\r\n                  enterFrom=\"transform opacity-0 scale-110 sm:translate-x-full sm:scale-100 sm:opacity-100\"\r\n                  enterTo=\"transform opacity-100 scale-100 sm:translate-x-0 sm:scale-100 sm:opacity-100\"\r\n                  leave=\"transition ease-in duration-150 sm:ease-in-out sm:duration-300\"\r\n                  leaveFrom=\"transform opacity-100 scale-100 sm:translate-x-0 sm:scale-100 sm:opacity-100\"\r\n                  leaveTo=\"transform opacity-0 scale-110 sm:translate-x-full sm:scale-100 sm:opacity-100\"\r\n                >\r\n                  <Dialog.Panel\r\n                    className=\"fixed inset-0 z-40 h-full w-full bg-white sm:inset-y-0 sm:left-auto sm:right-0 sm:w-full sm:max-w-sm sm:shadow-lg\"\r\n                    aria-label=\"Global\"\r\n                  >\r\n                    <div className=\"flex h-16 items-center justify-between px-4 sm:px-6\">\r\n                      <a href=\"#\">\r\n                        <img\r\n                          className=\"block h-8 w-auto\"\r\n                          src=\"https://tailwindui.com/img/logos/mark.svg?color=yellow&shade=500\"\r\n                          alt=\"Your Company\"\r\n                        />\r\n                      </a>\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"-mr-2 inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-600\"\r\n                        onClick={() => setMobileMenuOpen(false)}\r\n                      >\r\n                        <span className=\"sr-only\">Close main menu</span>\r\n                        <XMarkIcon\r\n                          className=\"block h-6 w-6\"\r\n                          aria-hidden=\"true\"\r\n                        />\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"max-w-8xl mx-auto mt-2 px-4 sm:px-6\">\r\n                      <div className=\"relative text-gray-400 focus-within:text-gray-500\">\r\n                        <label htmlFor=\"mobile-search\" className=\"sr-only\">\r\n                          Search all inboxes\r\n                        </label>\r\n                        <input\r\n                          id=\"mobile-search\"\r\n                          type=\"search\"\r\n                          placeholder=\"Search all inboxes\"\r\n                          className=\"block w-full rounded-md border-gray-300 pl-10 focus:border-yellow-500 focus:ring-yellow-500\"\r\n                        />\r\n                        <div className=\"absolute inset-y-0 left-0 flex items-center justify-center pl-3\">\r\n                          <MagnifyingGlassIcon\r\n                            className=\"h-5 w-5\"\r\n                            aria-hidden=\"true\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"max-w-8xl mx-auto py-3 px-2 sm:px-4\">\r\n                      {navigation.map((item) => (\r\n                        <Fragment key={item.name}>\r\n                          <a\r\n                            href={item.href}\r\n                            className=\"block rounded-md py-2 px-3 text-base font-medium text-gray-900 hover:bg-gray-100\"\r\n                          >\r\n                            {item.name}\r\n                          </a>\r\n                          {item.children.map((child) => (\r\n                            <a\r\n                              key={child.name}\r\n                              href={child.href}\r\n                              className=\"block rounded-md py-2 pl-5 pr-3 text-base font-medium text-gray-500 hover:bg-gray-100\"\r\n                            >\r\n                              {child.name}\r\n                            </a>\r\n                          ))}\r\n                        </Fragment>\r\n                      ))}\r\n                    </div>\r\n                    <div className=\"border-t border-gray-200 pt-4 pb-3\">\r\n                      <div className=\"max-w-8xl mx-auto flex items-center px-4 sm:px-6\">\r\n                        <div className=\"flex-shrink-0\">\r\n                          <img\r\n                            className=\"h-10 w-10 rounded-full\"\r\n                            // src={user.imageUrl}\r\n                            alt=\"\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"ml-3 min-w-0 flex-1\">\r\n                          <div className=\"truncate text-base font-medium text-gray-800\">\r\n                            {user.name}\r\n                          </div>\r\n                          <div className=\"truncate text-sm font-medium text-gray-500\">\r\n                            {user.email}\r\n                          </div>\r\n                        </div>\r\n                        <a\r\n                          href=\"#\"\r\n                          className=\"ml-auto flex-shrink-0 bg-white p-2 text-gray-400 hover:text-gray-500\"\r\n                        >\r\n                          <span className=\"sr-only\">View notifications</span>\r\n                          <BellIcon className=\"h-6 w-6\" aria-hidden=\"true\" />\r\n                        </a>\r\n                      </div>\r\n                      <div className=\"max-w-8xl mx-auto mt-3 space-y-1 px-2 sm:px-4\">\r\n                        {userNavigation.map((item) => (\r\n                          <a\r\n                            key={item.name}\r\n                            href={item.href}\r\n                            className=\"block rounded-md py-2 px-3 text-base font-medium text-gray-900 hover:bg-gray-50\"\r\n                          >\r\n                            {item.name}\r\n                          </a>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  </Dialog.Panel>\r\n                </Transition.Child>\r\n              </div>\r\n            </Dialog>\r\n          </Transition.Root> */}\r\n        </header>\r\n\r\n        {/* Bottom section */}\r\n        <div className=\"flex min-h-0 flex-1 overflow-hidden\">\r\n          {/* Narrow sidebar*/}\r\n\r\n          <div className=\"hidden md:fixed md:inset-y-0 md:flex md:w-32 md:flex-col pt-16\">\r\n            {/* Sidebar component, swap this element with another sidebar if you like */}\r\n            <div className=\"flex flex-grow flex-col overflow-y-auto bg-gray-800\">\r\n              <div className=\" flex flex-grow flex-col bg-white\">\r\n                <nav className=\"px-2 py-0\">\r\n                  {tabs.map((item, index) => (\r\n                    <a\r\n                      key={item.name}\r\n                      href={item.href}\r\n                      className={`group flex w-full flex-col items-center px-2 py-2 mt-0.5 text-xs font-bold shadow-md\r\n                      ${\r\n                        !item.current &&\r\n                        \"text-gray-500 bg-gray-50 hover:bg-gray-200 hover:text-gray-700\"\r\n                      }\r\n                      ${item.current && \"bg-blue-900 text-white\"}\r\n                      ${index == 0 && \"rounded-t-xl\"}\r\n                      ${index == tabs.length - 1 && \"rounded-b-xl\"}`}\r\n                      aria-current={item.current ? \"page\" : undefined}\r\n                    >\r\n                      <item.icon\r\n                        className={classNames(\r\n                          item.current\r\n                            ? \"text-white\"\r\n                            : \"text-gray-500 group-hover:text-gray-700\",\r\n                          \"h-7 w-7\"\r\n                        )}\r\n                        aria-hidden=\"true\"\r\n                      />\r\n                      <span className=\"mt-1 text-xxxs w-full text-center\">\r\n                        {item.name}\r\n                      </span>\r\n                    </a>\r\n                  ))}\r\n                </nav>\r\n\r\n                {/* <nav className=\"flex-1 px-2\">\r\n                  <div className=\"text-xs font-semibold leading-6 text-gray-400 text-left pt-1\">\r\n                    Processes\r\n                  </div>\r\n                </nav> */}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Main area */}\r\n          <main className=\"min-w-0 flex-1 border-t border-gray-200 lg:flex md:pl-32 bg-gray-100\">\r\n            {/* Primary column */}\r\n            <section\r\n              aria-labelledby=\"primary-heading\"\r\n              className=\"flex h-full min-w-0 flex-1 flex-col overflow-y-auto lg:order-last\"\r\n            >\r\n              <h1 id=\"primary-heading\" className=\"sr-only\">\r\n                Home\r\n              </h1>\r\n              {children}\r\n            </section>\r\n          </main>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 484, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 500, "column": 0}, "map": {"version":3,"sources":["file://E%3A/practice/netflix/lib/tokenRefresh.js"],"sourcesContent":["import { signIn, signOut } from \"next-auth/react\";\r\nimport { jwtDecode } from \"jwt-decode\";\r\n\r\nconst tokenRefresh = async (session) => {\r\n  console.log(\"Refresh token...\");\r\n  const isTokenExpired = (token) => {\r\n    if (!token) return true;\r\n\r\n    try {\r\n      const decodedToken = jwtDecode(token);\r\n      const currentTime = Math.floor(Date.now() / 1000);\r\n      return decodedToken.exp < currentTime;\r\n    } catch (error) {\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const refreshAccessToken = async () => {\r\n    const refreshToken = session.refreshToken;\r\n\r\n    if (isTokenExpired(refreshToken)) {\r\n      console.error(\"Refresh token has expired\");\r\n      signOut();\r\n      return Promise.reject(\"Refresh token expired\");\r\n    }\r\n\r\n    try {\r\n      const result = await signIn(\"refresh-token\", {\r\n        redirect: false,\r\n        refreshToken,\r\n      });\r\n\r\n      if (result?.error) {\r\n        console.error(\"Token refresh failed:\", result.error);\r\n        signOut();\r\n        return Promise.reject(result.error);\r\n      } else {\r\n        console.log(\"Token refreshed successfully:\", result);\r\n        return Promise.resolve(result);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"An error occurred during token refresh:\", error);\r\n      signOut();\r\n      return Promise.reject(error);\r\n    }\r\n  };\r\n\r\n  if (session && isTokenExpired(session.accessToken)) {\r\n    return refreshAccessToken();\r\n  }\r\n\r\n  return Promise.resolve();\r\n};\r\n\r\nexport default tokenRefresh;\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;;;;;AAEA,MAAM,eAAe,OAAO;IAC1B,QAAQ,GAAG,CAAC;IACZ,MAAM,iBAAiB,CAAC;QACtB,IAAI,CAAC,OAAO,OAAO;QAEnB,IAAI;YACF,MAAM,eAAe,CAAA,GAAA,0HAAA,CAAA,YAAS,AAAD,EAAE;YAC/B,MAAM,cAAc,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK;YAC5C,OAAO,aAAa,GAAG,GAAG;QAC5B,EAAE,OAAO,OAAO;YACd,OAAO;QACT;IACF;IAEA,MAAM,qBAAqB;QACzB,MAAM,eAAe,QAAQ,YAAY;QAEzC,IAAI,eAAe,eAAe;YAChC,QAAQ,KAAK,CAAC;YACd,CAAA,GAAA,mIAAA,CAAA,UAAO,AAAD;YACN,OAAO,QAAQ,MAAM,CAAC;QACxB;QAEA,IAAI;YACF,MAAM,SAAS,MAAM,CAAA,GAAA,mIAAA,CAAA,SAAM,AAAD,EAAE,iBAAiB;gBAC3C,UAAU;gBACV;YACF;YAEA,IAAI,QAAQ,OAAO;gBACjB,QAAQ,KAAK,CAAC,yBAAyB,OAAO,KAAK;gBACnD,CAAA,GAAA,mIAAA,CAAA,UAAO,AAAD;gBACN,OAAO,QAAQ,MAAM,CAAC,OAAO,KAAK;YACpC,OAAO;gBACL,QAAQ,GAAG,CAAC,iCAAiC;gBAC7C,OAAO,QAAQ,OAAO,CAAC;YACzB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2CAA2C;YACzD,CAAA,GAAA,mIAAA,CAAA,UAAO,AAAD;YACN,OAAO,QAAQ,MAAM,CAAC;QACxB;IACF;IAEA,IAAI,WAAW,eAAe,QAAQ,WAAW,GAAG;QAClD,OAAO;IACT;IAEA,OAAO,QAAQ,OAAO;AACxB;uCAEe"}},
    {"offset": {"line": 555, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 562, "column": 0}, "map": {"version":3,"sources":["file://E%3A/practice/netflix/pages/admin/%5Btab%5D.js"],"sourcesContent":["import { Fragment, useState, useEffect } from \"react\";\r\nimport Layout from \"../../components/general/Layout\";\r\nimport { useRouter } from \"next/router\";\r\nimport { UserIcon } from \"@heroicons/react/24/outline\";\r\nimport { useSession } from \"next-auth/react\";\r\n\r\nimport {\r\n  BookOpenIcon,\r\n  CalendarIcon,\r\n  IdentificationIcon,\r\n} from \"@heroicons/react/24/outline\";\r\nimport dynamic from \"next/dynamic\";\r\nimport tokenRefresh from \"../../lib/tokenRefresh\";\r\n\r\nfunction classNames(...classes) {\r\n  return classes.filter(Boolean).join(\" \");\r\n}\r\n\r\nexport default function Tab() {\r\n  const [currentPage, setCurrentPage] = useState();\r\n  const router = useRouter();\r\n  const { data: session } = useSession();\r\n\r\n  useEffect(() => {\r\n    refresh();\r\n  }, []);\r\n\r\n  async function refresh() {\r\n    await tokenRefresh(session);\r\n  }\r\n\r\n  const [pillTabs, setPillTabs] = useState([\r\n    {\r\n      name: \"Add Movie\",\r\n      id: 4,\r\n      code: \"add-movie\",\r\n      href: \"/admin/add-movie\",\r\n      icon: CalendarIcon,\r\n      current: false,\r\n    },\r\n    {\r\n      name: \"Delete Movie\",\r\n      id: 4,\r\n      code: \"delete-movie\",\r\n      href: \"/admin/delete-movie\",\r\n      icon: CalendarIcon,\r\n      current: false,\r\n    },\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    const { tab } = router.query;\r\n\r\n    const updatedTabs = pillTabs.map((pill) => {\r\n      if (tab == pill.code) {\r\n        return { ...pill, current: true };\r\n      } else {\r\n        return { ...pill, current: false };\r\n      }\r\n    });\r\n\r\n    setPillTabs(updatedTabs);\r\n\r\n    if (tab == \"add-movie\") {\r\n      const AddMovie = dynamic(() => import(\"../../components/movie/AddMovie\"));\r\n      setCurrentPage(<AddMovie />);\r\n    } else if (tab == \"delete-movie\") {\r\n      const DeleteMovie = dynamic(() =>\r\n        import(\"../../components/movie/DeleteMovie\")\r\n      );\r\n      setCurrentPage(<DeleteMovie />);\r\n    }\r\n  }, [router]);\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"bg-white px-2  shadow-sm sticky top-0 z-40\">\r\n        <nav\r\n          className=\"isolate flex rounded-lg justify-start space-x-8\"\r\n          aria-label=\"Tabs\"\r\n        >\r\n          {pillTabs.map((tab) => (\r\n            <a\r\n              key={tab.name}\r\n              href={tab.href}\r\n              className={classNames(\r\n                tab.current\r\n                  ? \"border-blue-700 text-blue-700\"\r\n                  : \"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700\",\r\n                \"group inline-flex items-center border-b py-2 px-1 text-md font-thin\"\r\n              )}\r\n              aria-current={tab.current ? \"page\" : undefined}\r\n            >\r\n              <span className=\"\">{tab.name}</span>\r\n            </a>\r\n          ))}\r\n        </nav>\r\n      </div>\r\n\r\n      {currentPage}\r\n    </Layout>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AAEA;AAOA;AACA;AANA;;;;;;;;;;;;;;AAQA,SAAS,WAAW,GAAG,OAAO;IAC5B,OAAO,QAAQ,MAAM,CAAC,SAAS,IAAI,CAAC;AACtC;AAEe,SAAS;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD;IAC7C,MAAM,SAAS,CAAA,GAAA,uHAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,CAAA,GAAA,mIAAA,CAAA,aAAU,AAAD;IAEnC,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACR;IACF,GAAG,EAAE;IAEL,eAAe;QACb,MAAM,CAAA,GAAA,4GAAA,CAAA,UAAY,AAAD,EAAE;IACrB;IAEA,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;QACvC;YACE,MAAM;YACN,IAAI;YACJ,MAAM;YACN,MAAM;YACN,MAAM,gNAAA,CAAA,eAAY;YAClB,SAAS;QACX;QACA;YACE,MAAM;YACN,IAAI;YACJ,MAAM;YACN,MAAM;YACN,MAAM,gNAAA,CAAA,eAAY;YAClB,SAAS;QACX;KACD;IAED,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,EAAE,GAAG,EAAE,GAAG,OAAO,KAAK;QAE5B,MAAM,cAAc,SAAS,GAAG,CAAC,CAAC;YAChC,IAAI,OAAO,KAAK,IAAI,EAAE;gBACpB,OAAO;oBAAE,GAAG,IAAI;oBAAE,SAAS;gBAAK;YAClC,OAAO;gBACL,OAAO;oBAAE,GAAG,IAAI;oBAAE,SAAS;gBAAM;YACnC;QACF;QAEA,YAAY;QAEZ,IAAI,OAAO,aAAa;YACtB,MAAM,WAAW,CAAA,GAAA,wHAAA,CAAA,UAAO,AAAD,EAAE;;;;;;;YACzB,6BAAe,qKAAC;;;;;QAClB,OAAO,IAAI,OAAO,gBAAgB;YAChC,MAAM,cAAc,CAAA,GAAA,wHAAA,CAAA,UAAO,AAAD,EAAE;;;;;;;YAG5B,6BAAe,qKAAC;;;;;QAClB;IACF,GAAG;QAAC;KAAO;IAEX,qBACE,qKAAC,wHAAA,CAAA,UAAM;;0BACL,qKAAC;gBAAI,WAAU;0BACb,cAAA,qKAAC;oBACC,WAAU;oBACV,cAAW;8BAEV,SAAS,GAAG,CAAC,CAAC,oBACb,qKAAC;4BAEC,MAAM,IAAI,IAAI;4BACd,WAAW,WACT,IAAI,OAAO,GACP,kCACA,8EACJ;4BAEF,gBAAc,IAAI,OAAO,GAAG,SAAS;sCAErC,cAAA,qKAAC;gCAAK,WAAU;0CAAI,IAAI,IAAI;;;;;;2BAVvB,IAAI,IAAI;;;;;;;;;;;;;;;YAgBpB;;;;;;;AAGP"}},
    {"offset": {"line": 705, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}